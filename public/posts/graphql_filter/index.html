<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-post-js.b1bf811123e369c2c8b0.css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:link{color:#add8e6}a:visited{color:grey}a:hover{outline-width:0;color:orange}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.0.38"/><script>window.__EMOTION_CRITICAL_CSS_IDS__ = [];</script><style></style><title data-react-helmet="true">The Mush</title><meta data-react-helmet="true" name="description" content="Sample"/><meta data-react-helmet="true" name="keywords" content="sample, something"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-11dcdf9507f8eb1132e2.js"/><link as="script" rel="preload" href="/0-a5f798dc20d49f2f8884.js"/><link as="script" rel="preload" href="/app-386c8aa672aa820b09fa.js"/><link as="script" rel="preload" href="/webpack-runtime-11d9777d5b3683d42aa3.js"/><link rel="preload" href="/static/d/177/path---posts-graphql-filter-ed-3-716-QBiS6Kmih5AjJjRlGrwNymaI14.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="background:#2f3143;margin-bottom:1.45rem"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><header style="margin-bottom:0rem"><ul style="list-style:none;float:right"><li style="display:inline-block;margin-right:1rem"><a href="/about/">About</a></li><li style="display:inline-block;margin-right:1rem"><a href="/projects/">Projects</a></li><a href="http://app.simonxu.com">WebApp</a></ul></header><h1 style="margin:0"><a style="color:white;text-decoration:none" href="/">The Mush</a></h1></div></div><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0"><div><h1>How to use GraphQL to choose what shows up on your page</h1><div><p>Yes, I made the switch to an uglier but more basic home webpage. If you want to make the switch too you can follow the last post I made. The nice thing about Gatsby is that it is easy to understand, and the </p>
<p>The way I currently have my site set up, I have 3 main pages: first the homepage, which is on <code>index.js</code>, an <code>about.js</code> page, and a <code>contact.js</code> page. I may switch this later to have about and contact on the same page, and have a projects page instead.</p>
<p>On the <code>index.js</code> page, there is a GraphQL query, which filters what gets displayed on my index page. First, I look for all markdown files (files in my directory that are .md), and filter and sort it according layout and date, respectively. You can see that when I do <code>filter: { frontmatter: {layout: {eq: "post"}}}</code>, it uses a Sift syntax, which is used in MongoDB, to filter for all markdown files that have a layout entry in the frontmatter that is labeled "post". This is because I also have markdown files for my about, and contact pages, but I want to ensure only the ones that have "post" in the front matter get displayed. </p>
<p>One of the most useful things that comes with Gatsby when you do <code>gatsby develop</code> is that you get an in browser IDE called GraphiQL (prounounced "graphical", cute). This allows you to make all the graphQL filters you want, and see what it outputs. Super convenient, super easy. I love using Ctrl+Space in order to see what options I have available.</p>
<p>In order to publish this on Github pages you have to add a dependency, called gh-pages amd add at deploy script <code>"deploy": "gatsby build &#x26;&#x26; gh-pages -d public -b master",</code> to your package.json file.</p>
<p>Update 11/4/18:
There was a bug similar to the one shown here: <a href="https://github.com/gatsbyjs/gatsby/issues/5734">https://github.com/gatsbyjs/gatsby/issues/5734</a>
I rebuilt the website and as you can see, no longer any issue, although I'm not sure why. I didn't include Typography this time, but I suspect there was some sort of CSS in JS plugin that was not functioning properly.</p></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"posts-graphql-filter-ed3","path":"/posts/graphql_filter/"};window.dataPath="177/path---posts-graphql-filter-ed-3-716-QBiS6Kmih5AjJjRlGrwNymaI14";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-386c8aa672aa820b09fa.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-ff4a38d0ece737e9fd24.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.b1bf811123e369c2c8b0.css","/component---src-templates-blog-post-js-11dcdf9507f8eb1132e2.js"],"component---src-pages-404-js":["/component---src-pages-404-js.b1bf811123e369c2c8b0.css","/component---src-pages-404-js-bb6a5bb1edbf6aed5f7b.js"],"component---src-pages-about-js":["/component---src-pages-about-js.b1bf811123e369c2c8b0.css","/component---src-pages-about-js-ddf64221a4cad682ecc8.js"],"component---src-pages-index-js":["/component---src-pages-index-js.b1bf811123e369c2c8b0.css","/component---src-pages-index-js-a4952465d7cc8d640e92.js"],"component---src-pages-my-files-js":["/component---src-pages-my-files-js.b1bf811123e369c2c8b0.css","/component---src-pages-my-files-js-6c46f3631a856d1243c5.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js.b1bf811123e369c2c8b0.css","/component---src-pages-projects-js-ab9faa021e72eaf56121.js"]};/*]]>*/</script><script src="/webpack-runtime-11d9777d5b3683d42aa3.js" async=""></script><script src="/app-386c8aa672aa820b09fa.js" async=""></script><script src="/0-a5f798dc20d49f2f8884.js" async=""></script><script src="/component---src-templates-blog-post-js-11dcdf9507f8eb1132e2.js" async=""></script></body></html>